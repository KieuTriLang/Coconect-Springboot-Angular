<form class="chatbar" [formGroup]="form" (submit)="submit()">
  <div class="attachment">
    <div
      class="attachment-icon"
      [class.active]="attachmentOpen"
      (click)="attachmentOpen = !attachmentOpen"
    >
      &plus;
    </div>
    <div class="attachment-list" [class.active]="attachmentOpen">
      <div class="attachment-item">
        <label for="image"
        m-title="Image">
          <fa-icon [icon]="imageIcon" [size]="'1x'"></fa-icon
        ></label>
        <input
          type="file"
          name="image"
          id="image"
          accept="image/*"
          (change)="upload($event)"
          [disabled]="!(chatService.connected$ |async)"
        />
      </div>
      <div class="attachment-item">
        <label for="video" m-title="Video">
          <fa-icon [icon]="videoIcon" [size]="'1x'"></fa-icon
        ></label>
        <input
          type="file"
          name="video"
          id="video"
          accept="video/*"
          (change)="upload($event)"
          [disabled]="!(chatService.connected$ |async)"
        />
      </div>
    </div>
  </div>
  <input
    type="text"
    placeholder="Text me . . ."
    formControlName="message"
    autofocus
    (keypress)="typing()"
  />
  <button type="submit"></button>
</form>
